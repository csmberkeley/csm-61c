\begin{blocksection}
\question Assume we have two arrays input and result. They are initialized as follows:

\begin{verbatim}
int *input = malloc(8*sizeof(int));
int *result = calloc(8, sizeof(int));
for (int i = 0; i < 8; i++) {
    input[i] = i;
}
\end{verbatim}

You are given the following RISC-V code. Assume register x10 holds the address of input and register x12 holds the address of result.

\begin{verbatim}
    add x8, x0, 0
    addi x5, x0, 0
    addi x11, 0, 8
Loop:
    beq x5, x11, Done
    lw x6, 0(x10)
    add x8, x8, x6
    slli x7, x5, 2
    add x7, x7, x12
    sw x8, 0(x7)
    addi x5, x5, 1
    addi x10, x10, 4
    j Loop
Done:
    // exit
    ………….
\end{verbatim}

\begin{verbatim}
// sizeof(int) == 4
int sum = 0;
\end{verbatim}
\begin{solution}[0.7in]
for (int i = 0; i < 8; i++) {
    sum += a[i];
    c[i] = sum;
}
\end{solution}

\question What is the end array stored starting at register x12?

\begin{solution}
$[0, 1, 3, 6, 10, 15, 21, 28]$

Meta: This is a challenging question for students since they are all new to RISC-V. Make sure to walk through and write out each single RISC-V instruction functionality first. Since the lecture will not cover the detailed name for each register, it will be good just going along with x0 - x31. Drawing all the detailed memory diagram will be helpful for this question since it involves a lot of load and store instructions. 
\end{solution}
\end{blocksection}